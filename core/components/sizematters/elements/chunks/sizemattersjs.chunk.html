<script type="text/javascript">
    window.onload = function () {
        var w = Math.max(document.documentElement["clientWidth"], document.body["scrollWidth"],
                document.documentElement["scrollWidth"], document.body["offsetWidth"],
                document.documentElement["offsetWidth"]);
        if (w > 2000) {
            w = 2000;
        }
        var f = parseFloat(window.getComputedStyle(document.documentElement).fontSize);

        var ems = Math.round( w / parseFloat(f));
        if (ems > 100) {
            ems = 100;
        }

        console.log("Width in Ems: " + ems);
        console.log("Width in CSS Pixels: " + w);
        console.log("Font Size in Pixels: " + parseFloat(f));


        data = JSON.stringify({w,ems,f});
                /* Ajax here */
        var bustCache = '?' + new Date().getTime();
        var request = new XMLHttpRequest();
        request.open('POST', '[[++site_url]]size-matters-processor.html' + bustCache, true);
        request.setRequestHeader('Content-Type', 'application/json');
        request.send(data);

     };
</script>